<!DOCTYPE html>
<html lang="es">
<head>
  <!-- ===== Meta b√°sicas ===== -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PasswordMX | Generador de Contrase√±as Seguras</title>
  <meta name="description" content="Genera contrase√±as seguras y passphrases al instante. 100% local, r√°pido y sin guardar datos. Copiar con un clic, selector de longitud y medidor de fuerza." />
  <meta name="keywords" content="generador contrase√±as, passwords seguras, passphrases, zxcvbn, seguridad, M√©xico, PasswordMX" />
  <meta name="author" content="PasswordMX" />
  <link rel="canonical" href="https://passwordmx.online/" />

  <!-- ===== Open Graph / Twitter ===== -->
  <meta property="og:title" content="PasswordMX ‚Äî Generador de Contrase√±as Seguras" />
  <meta property="og:description" content="Crea contrase√±as fuertes y passphrases en tu navegador. Nada se guarda ni se env√≠a." />
  <meta property="og:url" content="https://passwordmx.online/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://passwordmx.online/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="PasswordMX ‚Äî Generador de Contrase√±as Seguras" />
  <meta name="twitter:description" content="Crea contrase√±as fuertes y passphrases en tu navegador (100% local)." />
  <meta name="twitter:image" content="https://passwordmx.online/og-image.png" />

  <!-- ===== Favicon / Icons ===== -->
  <link rel="icon" type="image/png" href="favicon.png" />
  <!-- fallback SVG por si falta el PNG -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-8 -8 40 40"><rect rx="6" width="24" height="24" fill="%231e293b"/><path d="M6 11v-2a6 6 0 1112 0v2h1a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1v-7a1 1 0 011-1h1zm2 0h8v-2a4 4 0 10-8 0v2z" fill="%23fff"/></svg>' />
  <link rel="apple-touch-icon" href="favicon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <!-- ===== ‚úÖ PWA ===== -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0f172a" />
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(() => console.log('‚úÖ Service Worker registrado'))
          .catch(err => console.log('‚ùå Error registrando SW:', err));
      });
    }
  </script>

  <!-- ===== Google AdSense ===== -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8014920114807705" crossorigin="anonymous"></script>
  <script>
    // Activa Auto Ads (adem√°s de habilitarlo en AdSense UI)
    (window.adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-8014920114807705",
      enable_page_level_ads: true
    });
  </script>

  <!-- ===== Plausible (analytics sin cookies) ===== -->
  <!-- Snippet recomendado por Plausible: sin cookies, cumple RGPD y es bloqueable por adblockers (normal). -->
  <script defer data-domain="passwordmx.online" src="https://plausible.io/js/script.js"></script>

  <!-- ===== Estilos ===== -->
  <style>
    :root{
      --bg:#0f172a; --card:#111827; --muted:#94a3b8; --text:#e2e8f0;
      --accent:#38bdf8; --accent-2:#22d3ee; --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f8fafc; --card:#ffffff; --muted:#475569; --text:#0f172a; --accent:#0284c7; --accent-2:#06b6d4; --shadow:0 10px 24px rgba(2,8,23,.08); }
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,"Noto Sans";
      background: radial-gradient(1200px 600px at 50% -10%, rgba(56,189,248,.15), transparent 70%), var(--bg);
      color:var(--text); display:flex; align-items:center; justify-content:center; padding:24px;
    }

    /* ===== Topbar m√≥vil ===== */
    .topbar{
      display:none;
    }
    @media (max-width:880px){
      .topbar{
        position:sticky; top:0; z-index:50;
        display:flex; align-items:center; justify-content:center;
        height:48px; padding:0 12px;
        background:rgba(2,8,23,.7); backdrop-filter: blur(8px);
        color:var(--text); font-weight:700; letter-spacing:.2px;
        border-radius:12px; margin-bottom:12px;
      }
      .topbar .badge{ margin-left:6px; }
      body{ padding:12px; }
    }

    .container{ width:100%; max-width:900px; display:grid; gap:18px; grid-template-columns:1.1fr .9fr; align-items:start; }
    @media (max-width:880px){ .container{ grid-template-columns:1fr; } }

    header{ grid-column:1/-1; text-align:center; margin-bottom:6px; }
    header h1{ margin:0 0 8px; font-size:clamp(22px,4vw,34px); color:var(--accent); }
    header p{ margin:0; color:var(--muted); }

    .card{ background:var(--card); border-radius:14px; box-shadow:var(--shadow); padding:18px; }
    .controls label{ display:flex; align-items:center; gap:10px; margin:8px 0; color:var(--text); }
    .row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .muted{ color:var(--muted); font-size:14px; }

    .range{ display:grid; gap:6px; }
    input[type="range"]{ width:100%; }

    .out{
      display:flex; align-items:center; gap:10px; margin-top:8px; background:#1f2937;
      border-radius:10px; padding:10px 12px; overflow:auto; white-space:nowrap;
    }
    @media (prefers-color-scheme: light){ .out{ background:#f1f5f9; } }
    .out code{ font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; font-size:18px; }

    .btn{ border:0; border-radius:10px; padding:10px 14px; font-weight:600; cursor:pointer;
      background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#031525; transition:transform .02s ease-in-out, opacity .2s; }
    .btn:active{ transform: translateY(1px); }
    .btn.ghost{ background:transparent; border:2px solid rgba(148,163,184,.3); color:var(--text); }

    .meter{ height:10px; border-radius:999px; background:rgba(148,163,184,.25); overflow:hidden; }
    .meter>i{ display:block; height:100%; width:0%; background:linear-gradient(90deg, var(--bad), var(--warn), var(--ok)); transition:width .25s ease; }
    .score{ font-weight:600; }
    .grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .sep{ height:1px; background:rgba(148,163,184,.2); margin:12px 0; }
    .badge{ font-size:12px; color:#0b2a36; background:var(--accent); border-radius:999px; padding:4px 8px; font-weight:700; }

    footer{ grid-column:1/-1; text-align:center; color:var(--muted); font-size:13px; }
    footer .links{ display:flex; gap:14px; justify-content:center; align-items:center; flex-wrap:wrap; margin-top:10px; }
    footer a{ color:var(--accent); text-decoration:none; }
    footer a.muted{ color:var(--muted); }
    footer .btn{ display:inline-block; }

    /* Footer m√°s legible en m√≥vil */
    @media (max-width:640px){
      footer .links{ flex-direction:column; gap:8px; }
      footer .btn{ width:100%; max-width:320px; }
    }
  </style>

  <!-- zxcvbn (medidor de fuerza) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js"></script>

  <!-- ===== Structured Data ===== -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PasswordMX",
    "url": "https://passwordmx.online/",
    "applicationCategory": "SecurityApplication",
    "operatingSystem": "Web",
    "description": "Generador de contrase√±as seguras y passphrases. 100% local, r√°pido y sin guardar datos.",
    "publisher": {
      "@type": "Organization",
      "name": "PasswordMX",
      "url": "https://passwordmx.online/"
    }
  }
  </script>
</head>

<body>
  <!-- Topbar visible s√≥lo en m√≥vil -->
  <div class="topbar" aria-hidden="true">üîí Password<span class="badge">MX</span></div>

  <main class="container">
    <header>
      <h1>üîí Password<span class="badge">MX</span> ‚Äî Generador de Contrase√±as y Passphrases</h1>
      <p class="muted">Todo se genera <strong>localmente</strong> en tu navegador. No se env√≠a ni guarda nada.</p>
    </header>

    <!-- ===== Panel principal ===== -->
    <section class="card controls" aria-label="Opciones de generaci√≥n">
      <div class="row" style="justify-content:space-between;align-items:flex-end">
        <div>
          <div class="muted" style="margin-bottom:4px">Modo</div>
          <div class="row">
            <label><input type="radio" name="mode" value="password" checked> Contrase√±a</label>
            <label><input type="radio" name="mode" value="passphrase"> Passphrase</label>
          </div>
        </div>
        <button id="regen" class="btn ghost" title="Regenerar">‚Üª Regenerar</button>
      </div>

      <!-- Contrase√±a -->
      <div id="pane-password">
        <div class="range">
          <div class="row" style="justify-content:space-between">
            <label for="len" class="muted">Longitud</label>
            <div><strong id="lenVal">16</strong></div>
          </div>
          <input id="len" type="range" min="8" max="64" step="1" value="16" />
        </div>

        <div class="grid-2">
          <label><input id="optU" type="checkbox" checked> May√∫sculas</label>
          <label><input id="optL" type="checkbox" checked> Min√∫sculas</label>
          <label><input id="optN" type="checkbox" checked> N√∫meros</label>
          <label><input id="optS" type="checkbox"> S√≠mbolos</label>
          <label><input id="optEasy" type="checkbox"> F√°cil de leer (sin O/0, I/1)</label>
          <label><input id="optNoRep" type="checkbox"> Evitar repetidos</label>
        </div>

        <div class="out">
          <code id="out"></code>
          <button id="copyBtn" class="btn">Copiar</button>
        </div>

        <div class="row" style="align-items:center; gap:12px; margin-top:8px">
          <div class="meter" aria-hidden="true" style="flex:1"><i id="meter"></i></div>
          <div class="score" id="scoreTxt" aria-live="polite">‚Äî</div>
        </div>
        <div class="muted" id="estTxt">Fuerza: ‚Äî</div>
      </div>

      <div class="sep"></div>

      <!-- Passphrase -->
      <div id="pane-passphrase" style="display:none">
        <div class="grid-2">
          <label><span class="muted">Palabras</span>
            <input id="ppCount" type="number" min="3" max="12" value="4" style="width:90px; margin-left:8px">
          </label>
          <label><span class="muted">Separador</span>
            <select id="ppSep" style="margin-left:8px">
              <option value="-">-</option>
              <option value="_">_</option>
              <option value=" ">espacio</option>
              <option value=".">.</option>
            </select>
          </label>
          <label><input id="ppCap" type="checkbox"> Capitalizar</label>
          <label><input id="ppNum" type="checkbox"> A√±adir n√∫mero</label>
          <label><input id="ppSym" type="checkbox"> A√±adir s√≠mbolo</label>
        </div>

        <div class="out">
          <code id="outPP"></code>
          <button id="copyBtnPP" class="btn">Copiar</button>
        </div>
      </div>
    </section>

    <!-- ===== Lateral / Explicaci√≥n ===== -->
    <aside class="card">
      <h3 style="margin:0 0 8px">¬øQu√© hace √∫nica a PasswordMX?</h3>
      <ul style="margin:0 0 10px 18px; color:var(--muted)">
        <li>Generaci√≥n <strong>100% local</strong> con <code>crypto.getRandomValues()</code>.</li>
        <li><strong>Medidor de fuerza</strong> (zxcvbn) con estimaci√≥n de tiempo de crackeo.</li>
        <li>Opciones: s√≠mbolos, evitar repetidos, f√°cil de leer.</li>
        <li><strong>Modo Passphrase</strong> (frases de palabras) con separadores.</li>
      </ul>
      <p class="muted">Recomendamos usar un <em>gestor de contrase√±as</em> (Bitwarden, 1Password, etc.).</p>
      <p class="muted" style="font-size:12px">Aviso: no almacenamos ni compartimos tus contrase√±as. Uso bajo tu propia responsabilidad.</p>

      <!-- BuyMeACoffee discreto -->
      <p class="muted" style="margin-top:12px">
        Si esto te sirvi√≥, <a href="https://www.buymeacoffee.com/arkashghrollo" target="_blank" rel="noopener">inv√≠tame un caf√© ‚òï</a>.
      </p>
    </aside>

    <footer>
      ¬© 2025 PasswordMX ‚Äî Hecho con üíô en M√©xico.
      <div class="links">
        <a class="muted" href="/faq.html">FAQ</a>
        <a class="muted" href="/privacy.html">Privacidad</a>
        <a class="muted" href="/contacto.html">Contacto</a>
        <button id="shareBtn" class="btn ghost" aria-label="Compartir sitio">Compartir</button>
      </div>
    </footer>
  </main>

  <!-- ===== Bot√≥n Compartir ===== -->
  <script>
    (function(){
      const btn = document.getElementById('shareBtn');
      const url = 'https://passwordmx.online/?utm_source=share&utm_medium=button&utm_campaign=app';
      btn?.addEventListener('click', async () => {
        const data = { title: 'PasswordMX', text: 'Genera contrase√±as seguras y passphrases (100% local).', url };
        if (navigator.share) {
          try { await navigator.share(data); } catch(e){}
        } else {
          await navigator.clipboard.writeText(url);
          btn.textContent = '¬°Link copiado!'; setTimeout(()=>btn.textContent='Compartir',900);
        }
      });
    })();
  </script>

  <!-- ===== L√≥gica ===== -->
  <script>
    // ------- utilidades -------
    const randBytes = (n) => crypto.getRandomValues(new Uint8Array(n));

    // ------- contrase√±a -------
    const UPP = "ABCDEFGHJKLMNPQRSTUVWXYZ";
    const LOW = "abcdefghijkmnopqrstuvwxyz";
    const NUM = "0123456789";
    const SYM = "!@#$%^&*()_+-=[]{};:,.?/";

    function genPassword(){
      const len = +document.getElementById('len').value;
      const useU = document.getElementById('optU').checked;
      const useL = document.getElementById('optL').checked;
      const useN = document.getElementById('optN').checked;
      const useS = document.getElementById('optS').checked;
      const easy = document.getElementById('optEasy').checked;
      const noRep = document.getElementById('optNoRep').checked;

      let pool = "";
      if(useU) pool += UPP;
      if(useL) pool += LOW;
      if(useN) pool += NUM;
      if(useS) pool += SYM;
      if(!pool) pool = LOW;

      let out = "";
      let last = "";
      for(let i=0; i<len; i++){
        let ch = pool[randBytes(1)[0] % pool.length];
        if(easy){
          if("O0".includes(ch)) { i--; continue; }
          if("Il1".includes(ch)) { i--; continue; }
        }
        if(noRep && ch === last){ i--; continue; }
        out += ch; last = ch;
      }
      return out;
    }

    // ------- passphrase -------
    const WORDS = [
      "cielo","luz","r√≠o","fuego","nube","sol","luna","piedra","bosque","trueno",
      "viento","tigre","duna","nieve","c√°liz","nexo","marea","eco","nodo","cabal"
    ];
    function genPassphrase(){
      const n = Math.max(3, Math.min(12, +document.getElementById('ppCount').value || 4));
      const sep = document.getElementById('ppSep').value;
      const capOn = document.getElementById('ppCap').checked;
      const addNum = document.getElementById('ppNum').checked;
      const addSym = document.getElementById('ppSym').checked;
      const symPool = "!$%&*+?@#";

      let parts = [];
      for(let i=0;i<n;i++){
        let w = WORDS[randBytes(1)[0] % WORDS.length];
        if(capOn) w = w.charAt(0).toUpperCase() + w.slice(1);
        parts.push(w);
      }
      let out = parts.join(sep);
      if(addNum) out += String(randBytes(1)[0] % 100);
      if(addSym) out += symPool[randBytes(1)[0] % symPool.length];
      return out;
    }

    // ------- UI / estado -------
    const out = document.getElementById('out');
    const outPP = document.getElementById('outPP');
    const meter = document.getElementById('meter');
    const scoreTxt = document.getElementById('scoreTxt');
    const estTxt = document.getElementById('estTxt');
    const lenEl = document.getElementById('len');
    const lenVal = document.getElementById('lenVal');
    const copyBtn = document.getElementById('copyBtn');
    const copyBtnPP = document.getElementById('copyBtnPP');
    const panePwd = document.getElementById('pane-password');
    const panePP  = document.getElementById('pane-passphrase');
    const regen = document.getElementById('regen');

    function update(){
      const mode = document.querySelector('input[name="mode"]:checked').value;
      if(mode === "password"){
        const pwd = genPassword();
        out.textContent = pwd;
        if(typeof zxcvbn === "function"){
          const z = zxcvbn(pwd);
          const pct = Math.min(100, (z.score+1)*20 + Math.min(60, (z.guesses_log10||0)*2));
          meter.style.width = pct + "%";
          scoreTxt.textContent = ["Muy d√©bil","D√©bil","Aceptable","Fuerte","Muy fuerte"][z.score] || "‚Äî";
          const t = (z.crack_times_display && z.crack_times_display.offline_fast_hashing_1e10_per_second) || "";
          estTxt.textContent = "Estimado de crackeo: " + t;
        } else {
          meter.style.width = "0%"; scoreTxt.textContent = "‚Äî"; estTxt.textContent = "Fuerza: ‚Äî";
        }
      } else {
        const pp = genPassphrase();
        outPP.textContent = pp;
        meter.style.width = "0%"; scoreTxt.textContent = "‚Äî"; estTxt.textContent = "Modo passphrase";
      }
      lenVal.textContent = lenEl.value;
    }

    // eventos
    document.querySelectorAll('input, select').forEach(el => el.addEventListener('input', update));
    document.querySelectorAll('input[name="mode"]').forEach(r => r.addEventListener('change', () => {
      const mode = document.querySelector('input[name="mode"]:checked').value;
      panePwd.style.display = (mode === "password") ? "" : "none";
      panePP.style.display  = (mode === "passphrase") ? "" : "none";
      update();
    }));
    regen.addEventListener('click', update);

    async function copyText(text, btn){
      try{
        await navigator.clipboard.writeText(text);
        btn.textContent = "¬°Copiado!";
      }catch(e){
        const r = document.createRange(); r.selectNodeContents(btn.previousElementSibling);
        const sel = getSelection(); sel.removeAllRanges(); sel.addRange(r);
        document.execCommand('copy'); sel.removeAllRanges();
        btn.textContent = "¬°Copiado!";
      }
      setTimeout(()=> btn.textContent = "Copiar", 900);
    }
    copyBtn.addEventListener('click', () => copyText(out.textContent, copyBtn));
    copyBtnPP.addEventListener('click', () => copyText(outPP.textContent, copyBtnPP));

    // primera render
    update();
  </script>
</body>
</html>
